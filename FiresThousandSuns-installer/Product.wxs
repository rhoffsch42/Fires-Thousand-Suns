<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
	<!--
		tuto : https://www.youtube.com/watch?v=6Yf-eDsRrnM
		HeatDirectory harvest crash VS fix : https://github.com/wixtoolset/issues/issues/6636
	-->
	
	<!-- Fixed upgrade Id -->
	<?define UpgradeCode = "{BF4A446D-3EA3-4730-8080-077377375305}"?>

	<!-- Give package a unique ID per platform -->
	<?if $(var.Platform) = x64?>
	<?define ProductCode = "{75F8B1EB-57F7-498E-9371-65CA5FDAA20F}"?>
	<?else?>
	<?define ProductCode = "{96C38B2A-E78D-45FC-BA2E-526D9C786137}"?>
	<?endif?>

	<!-- Can be defined in the project file (GetAssemblyIdentity). -->
	<?define BuildVersion = 1.0.0.0 ?>


	<!-- Main product -->
	<Product
		Id="$(var.ProductCode)"
		Name="!(loc.ProductName_$(var.Platform))"
		Version="$(var.BuildVersion)"
		Manufacturer="!(loc.Company)"
		UpgradeCode="$(var.UpgradeCode)"
		Language="!(loc.Language)"
	>
		<!-- Package details -->
		<Package
			InstallerVersion="200"
			Compressed="yes"
			InstallScope="perMachine"
			Manufacturer="!(loc.Company)"
			Description="!(loc.Description)"
			Keywords="!(loc.Keywords)"
			Comments="!(loc.Comments)"
			Languages="!(loc.Language)"
		/>
		<MajorUpgrade DowngradeErrorMessage="!(loc.DowngradeError)" />
		<!-- Include .cab file into .msi file-->
		<MediaTemplate EmbedCab="yes" />

		<Icon Id="icon.ico" SourceFile="$(var.ProjectDir)\fts-icon-bold-450x450.ico" />
		<Property Id="ARPPRODUCTICON">icon.ico</Property>
		<Property Id="APPURLINFOABOUT">https://github.com/rhoffsch42/Fires-Thousand-Suns</Property>

		<!-- Create a basic UI for the installer -->
		<!-- Background: 493x312 -->
		<!-- Banner: 493x58 -->
		<UIRef Id="WixUI_Minimal" />
		<WixVariable Id="WixUILicenseRtf" Value="$(var.ProjectDir)\assets\License.rtf" />
		<WixVariable Id="WixUIDialogBmp" Value="$(var.ProjectDir)\assets\Background.bmp" />
		<WixVariable Id="WixUIBannerBmp" Value="$(var.ProjectDir)\assets\Banner.bmp" />


		<!-- Define components, shortcuts, files etc... for installer -->
		<Feature Id="ProductFeature" Title="FiresThousandSuns_installer" Level="1">
			<ComponentGroupRef Id="ProductComponents" />
			<ComponentGroupRef Id="ReleaseComponents" />
		</Feature>
	</Product>



</Wix>






